import{_ as v}from"./DeUgT3_S.js";import{_ as f,u as g,g as d,m as h,c as o,a as t,F as b,r as y,f as C,o as c,q as k,t as n,s as E}from"./DEMYdqu9.js";const w={id:"app"},x={class:"container"},$={class:"right-card"},q=["src","alt"],A={class:"card-content"},B={class:"card-labels"},F={class:"label"},R={class:"label"},I={class:"label"},P={class:"card-buttons"},D=["onClick"],L={__name:"my-cart",setup(N){const{$axios:i}=g(),r=d({});d("@/src/static/images/logo.webp");const u=E(),m=async()=>{try{const e=await i.get("cart/items/show");r.value=e.data}catch(e){console.error("Error fetching cart items:",e)}},p=async e=>{try{(await i.post(`cart/item/remove/${e}`)).status===200?r.value.cart.items.forEach(s=>{s.product.id===e&&(s.quantity>1?s.quantity--:r.value.cart.items=r.value.cart.items.filter(l=>l.product.id!==e))}):alert("Error removing the item from the cart.")}catch(a){console.error("Error removing from cart:",a)}},_=()=>{C().push("/add-address-to-order")};return h(()=>{m()}),(e,a)=>(c(),o("div",w,[t("div",x,[t("div",{class:"left-card"},[a[2]||(a[2]=t("img",{src:v,alt:"Profile Image"},null,-1)),t("div",null,[a[0]||(a[0]=t("h2",null,"Cart",-1)),t("button",{onClick:_,class:"calculate-invoice"}," Continue Purchase "),a[1]||(a[1]=t("p",null,"You can manage and view Carts here.",-1))])]),t("div",$,[(c(!0),o(b,null,y(r.value.cart.items,s=>(c(),o("div",{key:s.id,class:"item-card"},[t("img",{src:s.product.image?`${k(u).public.API_BASE_URL}${s.product.image.path}`:"/default-product-image.jpg",alt:s.product.name},null,8,q),t("div",A,[t("div",B,[t("div",F,n(s.product.name),1),t("div",R,n(s.product.price),1),t("div",I,n(s.quantity),1)]),t("div",P,[a[3]||(a[3]=t("button",{class:"details-button"},"Details",-1)),t("button",{onClick:l=>p(s.product.id),class:"remove-from-cart"}," Remove From Cart ",8,D)])])]))),128))])])]))}},M=f(L,[["__scopeId","data-v-9a3e3989"]]);export{M as default};
