import{u as k,f as R,l as U,g as n,m as D,c as r,a as t,h as d,v as f,i as p,F as v,r as y,j as E,o as u,t as c}from"./DZ_rf2Jf.js";import{_ as M}from"./DlAUqK2U.js";const S={class:"body"},A={class:"select-wrapper"},B=["value"],F={class:"select-wrapper"},I=["value"],$={class:"select-wrapper"},N=["value"],j={__name:"[id]",setup(L){const{$axios:m}=k(),b=R(),i=U(),l=n(null),g=n(["تهران","مشهد","اصفهان","بجنورد","شیروان","کرمان"]),w=n(["تهران","خراسان شمالی","اصفهان"]),x=n(["ایران","آمریکا","کانادا"]),o=n({street:"",city:"",state:"",postal_code:"",country:""});async function _(){try{const a=await m.get(`user/show/address/${i.params.id}`);l.value=a.data.address,console.log("جزئیات آدرس:",l.value.street),o.value.street=l.value.street,o.value.city=l.value.city,o.value.state=l.value.state,o.value.postal_code=l.value.postal_code,o.value.country=l.value.country}catch(a){console.error("خطا در دریافت جزئیات آدرس:",a)}}const V=async()=>{try{const a=new FormData;a.append("street",o.value.street),a.append("city",o.value.city),a.append("state",o.value.state),a.append("postal_code",o.value.postal_code),a.append("country",o.value.country);const e=await m.post(`user/edit/address/${i.params.id}`,a);e.data?(alert("Edit Registration successful!"),await b.push("/steps-to-order")):alert("Edit Registration failed: "+e.data.message)}catch(a){console.error("Edit Registration failed:",a),alert("An error occurred during address registration. Please try again.")}};return D(()=>{i.params.id&&_()}),(a,e)=>(u(),r("div",S,[t("form",{onSubmit:E(V,["prevent"]),enctype:"multipart/form-data"},[e[13]||(e[13]=t("h2",null,"فرم ثبت‌ آدرس",-1)),t("p",null,[e[5]||(e[5]=t("label",{for:"street"},"خیابان",-1)),d(t("input",{type:"text",id:"street","onUpdate:modelValue":e[0]||(e[0]=s=>o.value.street=s)},null,512),[[f,o.value.street]])]),t("p",null,[e[7]||(e[7]=t("label",{for:"city"},"شهر",-1)),t("div",A,[d(t("select",{id:"city","onUpdate:modelValue":e[1]||(e[1]=s=>o.value.city=s)},[e[6]||(e[6]=t("option",{disabled:"",value:""},"انتخاب شهر",-1)),(u(!0),r(v,null,y(g.value,s=>(u(),r("option",{key:s,value:s},c(s),9,B))),128))],512),[[p,o.value.city]])])]),t("p",null,[e[9]||(e[9]=t("label",{for:"state"},"استان",-1)),t("div",F,[d(t("select",{id:"state","onUpdate:modelValue":e[2]||(e[2]=s=>o.value.state=s)},[e[8]||(e[8]=t("option",{disabled:"",value:""},"انتخاب استان",-1)),(u(!0),r(v,null,y(w.value,s=>(u(),r("option",{key:s,value:s},c(s),9,I))),128))],512),[[p,o.value.state]])])]),t("p",null,[e[10]||(e[10]=t("label",{for:"postal_code"},"کد پستی",-1)),d(t("input",{type:"text",id:"postal_code","onUpdate:modelValue":e[3]||(e[3]=s=>o.value.postal_code=s)},null,512),[[f,o.value.postal_code]])]),t("p",null,[e[12]||(e[12]=t("label",{for:"country"},"کشور",-1)),t("div",$,[d(t("select",{id:"country","onUpdate:modelValue":e[4]||(e[4]=s=>o.value.country=s)},[e[11]||(e[11]=t("option",{disabled:"",value:""},"انتخاب کشور",-1)),(u(!0),r(v,null,y(x.value,s=>(u(),r("option",{key:s,value:s},c(s),9,N))),128))],512),[[p,o.value.country]])])]),e[14]||(e[14]=t("button",{type:"submit"},"ذخیره",-1))],32)]))}},q=M(j,[["__scopeId","data-v-0b101cb7"]]);export{q as default};
