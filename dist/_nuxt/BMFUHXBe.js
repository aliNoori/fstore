import{_ as c,u as m,g as f,l as x,h as i,m as b,c as g,a,i as r,v as u,j as w,o as V}from"./CIN-de3W.js";const R={class:"body"},U={__name:"[id]",setup(E){const{$axios:d}=m(),p=f(),n=x(),l=i(null),e=i({street:"",city:"",state:"",postal_code:"",country:""});async function v(){try{const s=await d.get(`user/show/address/${n.params.id}`);l.value=s.data.address,console.log("جزئیات آدرس:",l.value.street),e.value.street=l.value.street,e.value.city=l.value.city,e.value.state=l.value.state,e.value.postal_code=l.value.postal_code,e.value.country=l.value.country}catch(s){console.error("خطا در دریافت جزئیات آدرس:",s)}}const y=async()=>{try{const s=new FormData;s.append("street",e.value.street),s.append("city",e.value.city),s.append("state",e.value.state),s.append("postal_code",e.value.postal_code),s.append("country",e.value.country);const t=await d.post(`user/edit/address/${n.params.id}`,s);t.data?(alert("Edit Registration successful!"),await p.push("/steps-to-order")):alert("Edit Registration failed: "+t.data.message)}catch(s){console.error("Edit Registration failed:",s),alert("An error occurred during address registration. Please try again.")}};return b(()=>{n.params.id&&v()}),(s,t)=>(V(),g("div",R,[a("form",{onSubmit:w(y,["prevent"]),enctype:"multipart/form-data"},[t[10]||(t[10]=a("h2",null,"فرم ویرایش آدرس",-1)),a("p",null,[t[5]||(t[5]=a("label",{for:"street"},"خیابان",-1)),r(a("input",{type:"text",id:"street","onUpdate:modelValue":t[0]||(t[0]=o=>e.value.street=o)},null,512),[[u,e.value.street]])]),a("p",null,[t[6]||(t[6]=a("label",{for:"city"},"شهر",-1)),r(a("input",{type:"text",id:"city","onUpdate:modelValue":t[1]||(t[1]=o=>e.value.city=o)},null,512),[[u,e.value.city]])]),a("p",null,[t[7]||(t[7]=a("label",{for:"state"},"استان",-1)),r(a("input",{type:"text",id:"state","onUpdate:modelValue":t[2]||(t[2]=o=>e.value.state=o)},null,512),[[u,e.value.state]])]),a("p",null,[t[8]||(t[8]=a("label",{for:"postal_code"},"کد پستی",-1)),r(a("input",{type:"text",id:"postal_code","onUpdate:modelValue":t[3]||(t[3]=o=>e.value.postal_code=o)},null,512),[[u,e.value.postal_code]])]),a("p",null,[t[9]||(t[9]=a("label",{for:"country"},"کشور",-1)),r(a("input",{type:"text",id:"country","onUpdate:modelValue":t[4]||(t[4]=o=>e.value.country=o)},null,512),[[u,e.value.country]])]),t[11]||(t[11]=a("button",{type:"submit"},"ذخیره",-1))],32)]))}},B=c(U,[["__scopeId","data-v-24c570cc"]]);export{B as default};
