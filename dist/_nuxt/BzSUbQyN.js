import{u as f,P as y,g as k,m as b,z as $,c as a,a as e,t as r,e as m,q as v,F as P,r as j,o as d,s as I}from"./sWA_Hh3m.js";import{j as O}from"./zrawJLFk.js";const S={class:"order-container"},A={class:"order-details special-background"},B={class:"order-info"},R={class:"order-status"},C={class:"total-amount"},D={class:"order-date"},L={class:"order-actions"},N={key:0,class:"address-details"},w={key:1},E={key:2,class:"shipping-method"},q=["src","alt"],F={key:3},M={key:4,class:"order-items"},U=["src"],V={key:5},G={__name:"[id]",setup(z){const{$axios:_}=f(),i=y(),p=I(),t=k(null),u=o=>Math.floor(o).toLocaleString("fa-IR"),n=o=>{const s=["۰","۱","۲","۳","۴","۵","۶","۷","۸","۹"];return o.toString().replace(/[0-9]/g,l=>s[l])},g=o=>{const s=new Date(o),l=O.toJalaali(s);return`${n(l.jy)}/${n(l.jm)}/${n(l.jd)}`},h=o=>o==="pending"?"پرداخت نشده":o==="completed"?"پرداخت شده":o,c=async()=>{try{const o=await _.get(`user/order/${i.params.id}`);t.value=o.data.order,console.log("جزئیات سفارش:",t.value)}catch(o){console.error("خطا در دریافت جزئیات سفارش:",o)}};return b(()=>{i.params.id&&c()}),$(()=>i.params.id,o=>{o&&c()}),(o,s)=>(d(),a("div",S,[e("div",A,[e("div",B,[e("h3",null,"کد سفارش : #"+r(t.value.order_number),1),e("p",R,"وضعیت: "+r(h(t.value.status)),1),e("p",C,"مبلغ کل: "+r(n(u(t.value.total_amount)))+" تومان",1),e("p",D,"تاریخ ایجاد سفارش: "+r(g(t.value.created_at)),1),e("div",L,[t.value.status==="pending"?(d(),a("button",{key:0,class:"order-btn complete-order-btn",onClick:s[0]||(s[0]=(...l)=>o.completeOrder&&o.completeOrder(...l))},s[2]||(s[2]=[e("span",null,"✔ تکمیل سفارش",-1)]))):m("",!0),t.value.status==="pending"?(d(),a("button",{key:1,class:"order-btn cancel-order-btn",onClick:s[1]||(s[1]=(...l)=>o.cancelOrder&&o.cancelOrder(...l))},s[3]||(s[3]=[e("span",null,"✖ لغو سفارش",-1)]))):m("",!0)])])]),t.value.address?(d(),a("div",N,[s[4]||(s[4]=e("h2",null,"آدرس ارسال:",-1)),e("p",null,r(n(t.value.address.street))+", "+r(t.value.address.city),1),e("p",null,r(t.value.address.state)+", "+r(n(t.value.address.postal_code)),1),e("p",null,r(t.value.address.country),1)])):(d(),a("div",w,s[5]||(s[5]=[e("p",null,"ادرس یافت نشد.",-1)]))),t.value.shipping_method?(d(),a("div",E,[s[6]||(s[6]=e("h2",null,"روش ارسال:",-1)),e("img",{src:`${v(p).public.API_BASE_URL}${t.value.shipping_method.image.path}`,alt:t.value.shipping_method.name},null,8,q),e("p",null,r(t.value.shipping_method.name),1),e("p",null,r(t.value.shipping_method.description),1),e("p",null,"هزینه ارسال: "+r(n(t.value.shipping_method.cost))+" تومان",1),e("p",null,r(n(t.value.shipping_method.delivery_time)),1)])):(d(),a("div",F,s[7]||(s[7]=[e("p",null,"روش ارسال یافت نشد.",-1)]))),t.value.items?(d(),a("div",M,[s[8]||(s[8]=e("h2",null,"اقلام سفارش:",-1)),e("ul",null,[(d(!0),a(P,null,j(t.value.items,l=>(d(),a("li",{key:l.id},[e("img",{src:`${v(p).public.API_BASE_URL}${l.product.image.file_path}`,alt:"Product Image",class:"product-image"},null,8,U),e("p",null,"محصول: "+r(l.product.name),1),e("p",null,"قیمت: "+r(n(u(l.price)))+" تومان",1),e("p",null,"تعداد: "+r(n(l.quantity)),1),e("p",null,"مبلغ کل: "+r(n(u(l.total)))+" تومان",1)]))),128))])])):(d(),a("div",V,s[9]||(s[9]=[e("p",null,"اقلام سفارش یافت نشد.",-1)])))]))}};export{G as default};
