import{u as k,Q as f,g as y,m as _,z as S,c as r,a as e,t as l,e as g,q as v,F as A,r as $,O as C,o as a,s as O}from"./C6qXNm8V.js";const I={class:"order-container"},M={class:"order-details special-background"},P={class:"order-info"},j={class:"order-status"},B={class:"total-amount"},R={class:"order-date"},D={class:"order-actions"},L={key:0,class:"address-details"},N={key:1},w={key:2,class:"shipping-method"},E=["src","alt"],q={key:3},F={key:4,class:"order-items"},U=["src"],V={key:5},Q={__name:"[id]",setup(z){const{$axios:c}=k(),i=f(),p=O(),o=y(null),u=t=>Math.floor(t).toLocaleString("fa-IR"),d=t=>{const s=["۰","۱","۲","۳","۴","۵","۶","۷","۸","۹"];return t.toString().replace(/[0-9]/g,n=>s[n])},h=t=>{const s=new Date(t),n=C.toJalaali(s);return`${d(n.jy)}/${d(n.jm)}/${d(n.jd)}`},b=t=>t==="pending"?"پرداخت نشده":t==="completed"?"پرداخت شده":t,m=async()=>{try{const t=await c.get(`user/order/${i.params.id}`);o.value=t.data.order,console.log("جزئیات سفارش:",o.value)}catch(t){console.error("خطا در دریافت جزئیات سفارش:",t)}};return _(()=>{i.params.id&&m()}),S(()=>i.params.id,t=>{t&&m()}),(t,s)=>(a(),r("div",I,[e("div",M,[e("div",P,[e("h3",null,"کد سفارش : #"+l(o.value.order_number),1),e("p",j,"وضعیت: "+l(b(o.value.status)),1),e("p",B,"مبلغ کل: "+l(d(u(o.value.total_amount)))+" تومان",1),e("p",R,"تاریخ ایجاد سفارش: "+l(h(o.value.created_at)),1),e("div",D,[o.value.status==="pending"?(a(),r("button",{key:0,class:"order-btn complete-order-btn",onClick:s[0]||(s[0]=(...n)=>t.completeOrder&&t.completeOrder(...n))},s[6]||(s[6]=[e("span",null,"✔ تکمیل سفارش",-1)]))):g("",!0),o.value.status==="pending"?(a(),r("button",{key:1,class:"order-btn cancel-order-btn",onClick:s[1]||(s[1]=(...n)=>t.cancelOrder&&t.cancelOrder(...n))},s[7]||(s[7]=[e("span",null,"✖ لغو سفارش",-1)]))):g("",!0)])])]),o.value.address?(a(),r("div",L,[s[9]||(s[9]=e("h2",null,"آدرس ارسال:",-1)),e("p",null,l(d(o.value.address.street))+", "+l(o.value.address.city),1),e("p",null,l(o.value.address.state)+", "+l(d(o.value.address.postal_code)),1),e("p",null,l(o.value.address.country),1),e("button",{class:"edit-address-btn",onClick:s[2]||(s[2]=(...n)=>t.editAddress&&t.editAddress(...n))},s[8]||(s[8]=[e("span",null,"ویرایش آدرس",-1)]))])):(a(),r("div",N,[e("button",{class:"add-address-btn",onClick:s[3]||(s[3]=(...n)=>t.addAddress&&t.addAddress(...n))},s[10]||(s[10]=[e("span",null,"افزودن آدرس",-1)]))])),o.value.shipping_method?(a(),r("div",w,[s[12]||(s[12]=e("h2",null,"روش ارسال:",-1)),e("img",{src:`${v(p).public.API_BASE_URL}${o.value.shipping_method.image.path}`,alt:o.value.shipping_method.name},null,8,E),e("p",null,l(o.value.shipping_method.name),1),e("p",null,l(o.value.shipping_method.description),1),e("p",null,"هزینه ارسال: "+l(d(o.value.shipping_method.cost))+" تومان",1),e("p",null,l(d(o.value.shipping_method.delivery_time)),1),e("button",{class:"edit-shipping-method-btn",onClick:s[4]||(s[4]=(...n)=>t.editShippingMethod&&t.editShippingMethod(...n))},s[11]||(s[11]=[e("span",null,"ویرایش روش ارسال",-1)]))])):(a(),r("div",q,[e("button",{class:"add-shipping-method-btn",onClick:s[5]||(s[5]=(...n)=>t.addShippingMethod&&t.addShippingMethod(...n))},s[13]||(s[13]=[e("span",null,"افزودن روش ارسال",-1)]))])),o.value.items?(a(),r("div",F,[s[14]||(s[14]=e("h2",null,"اقلام سفارش:",-1)),e("ul",null,[(a(!0),r(A,null,$(o.value.items,n=>(a(),r("li",{key:n.id},[e("img",{src:`${v(p).public.API_BASE_URL}${n.product.image.file_path}`,alt:"Product Image",class:"product-image"},null,8,U),e("p",null,"محصول: "+l(n.product.name),1),e("p",null,"قیمت: "+l(d(u(n.price)))+" تومان",1),e("p",null,"تعداد: "+l(d(n.quantity)),1),e("p",null,"مبلغ کل: "+l(d(u(n.total)))+" تومان",1)]))),128))])])):(a(),r("div",V,s[15]||(s[15]=[e("p",null,"اقلام سفارش یافت نشد.",-1)])))]))}};export{Q as default};
